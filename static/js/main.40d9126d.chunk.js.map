{"version":3,"sources":["services/async-storage-service.js","services/userService.js","store/actions/userActions.js","cmps/AppHeader.jsx","cmps/MovePreview.jsx","cmps/MoveList.jsx","cmps/TransferFund.jsx","services/contactService2.js","store/actions/contactActions.js","services/bitcoinService.js","pages/ContactDetailsPage.jsx","cmps/ContactFilter.jsx","cmps/ContactPreview.jsx","cmps/ContactList.jsx","pages/ContactPage.jsx","pages/HomePage.jsx","pages/StatisticPage.jsx","pages/ContactEditPage.jsx","pages/SignupPage.jsx","pages/BitcoinApp.jsx","App.jsx","reportWebVitals.js","store/reducers/contactReducer.js","store/reducers/userReducer.js","store/index.js","index.js"],"names":["storageService","query","get","entityType","entityId","then","entities","find","entity","_id","post","newEntity","_makeId","push","_save","put","updatedEntity","idx","findIndex","splice","remove","postMany","newEntities","JSON","parse","localStorage","getItem","Promise","resolve","length","text","possible","i","charAt","Math","floor","random","setItem","stringify","STORAGE_KEY_LOGGEDIN_USER","userService","login","logout","signup","getUsers","username","coins","moves","getById","userId","update","getLoggedinUser","a","user","_saveLocalUser","userCred","users","sessionStorage","removeItem","dispatch","loggedInUser","type","window","_AppHeader","props","this","className","activeClassName","exact","to","Component","mapDispatchToProps","AppHeader","connect","state","userModule","MovePreview","move","withContactName","toId","amount","usdAmount","toLocaleString","style","currency","minimumFractionDigits","maximumFractionDigits","Date","at","MoveList","title","map","index","TransferFund","onTransferCoins","target","value","handleChange","setState","handleSubmit","event","preventDefault","transferPrecision","onSubmit","autoComplete","htmlFor","id","name","placeholder","onChange","maxCoins","contactService","save","STORAGE_KEY","getEmptyContact","email","phone","gDefaultContacts","_loadContacts","filterBy","contactsToReturn","filter","term","contacts","toLocaleLowerCase","contact","includes","contactToSave","loadContacts","getState","contactModule","deleteContact","contactId","bitcoinService","getRate","getMarketPrice","getConfirmedTransactions","axios","res","data","console","log","_ContactDetailsPage","loadContact","match","params","getMovesToContact","userMoves","movesToContact","goBack","history","getBitcoinRate","bitcoinRate","USD","last","transferAmount","now","moveToSave","addMove","onClick","src","alt","width","height","alert","unshift","ContactDetailsPage","ContactFilter","onChangeFilter","ContactPreview","selectContact","ContactList","_ContactPage","setFilterBy","ContactPage","_HomePage","marketPrice","loadUser","loadMarketPrice","bitcoinRateToShow","values","y","color","strokeWidth","fill","slice","HomePage","StatisticPage","confirmedTransactions","chartData","labels","datasets","label","backgroundColor","borderColor","loadConfirmTransactions","confirmTransactions","margin","x","radius","hoverRadius","borderWidth","_ContactEditPage","onSaveRobot","field","prevState","e","ref","inputRef","ContactEditPage","_SignupPage","signedUp","loggedIn","handleChange2","handleLogin","SignupPage","_BitcoinApp","robots","selectedContactId","page","gotoPage","path","component","BitcoinApp","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","action","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.40d9126d.chunk.js","sourcesContent":["export const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n    postMany,\r\n    _save,\r\n    _makeId\r\n}\r\n\r\nfunction query(entityType) {\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\r\n    return Promise.resolve(entities);\r\n}\r\n\r\nfunction get(entityType, entityId) {\r\n    // console.log(entityId);\r\n    return query(entityType)\r\n        // .then(entities => entities.find(entity => entity.id === entityId))\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n}\r\n\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = _makeId()\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity);\r\n            _save(entityType, entities)\r\n            return newEntity;\r\n        })\r\n}\r\n\r\nfunction postMany(entityType, newEntities) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(...newEntities);\r\n            _save(entityType, entities)\r\n            return entities;\r\n        })\r\n}\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id);\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity;\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId);\r\n            // const idx = entities.findIndex(entity => entity.id === entityId);\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n            // return entities\r\n        })\r\n}\r\n\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = \"\";\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return text;\r\n}\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}","import { storageService } from './async-storage-service.js';\r\n// import { httpService } from './http.service';\r\n// import { socketService, SOCKET_EVENT_USER_UPDATED } from './socket.service';\r\nconst STORAGE_KEY_LOGGEDIN_USER = 'loggedinUser';\r\nvar gWatchedUser = null;\r\n\r\nexport const userService = {\r\n  login,\r\n  logout,\r\n  signup,\r\n  getUsers,\r\n  getById,\r\n  remove,\r\n  update,\r\n  getLoggedinUser,\r\n};\r\n\r\nwindow.userService = userService;\r\n// Note: due to async, must run one by one...\r\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\r\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 100, isAdmin: true})\r\n// userService.signup({fullname: 'Muki G', username: 'muki', password:'123', score: 100})\r\n\r\n// userService.signup({\r\n//   // userService.login({\r\n//   username: \"Avi Berger\",\r\n//   coins: 100,\r\n//   moves: [\r\n//     {\r\n//       toId: '5a56640269f443a5d64b32ca',\r\n//       to: 'Ochoa Hyde',\r\n//       at: Date.now(),\r\n//       amount: 10\r\n//     },\r\n//     {\r\n//       toId: '5a56640269f443a5d64b32ca',\r\n//       to: 'Ochoa Hyde',\r\n//       at: Date.now(),\r\n//       amount: 10\r\n//     },\r\n//     {\r\n//       toId: '5a56640269f443a5d64b32ca',\r\n//       to: 'Ochoa Hyde',\r\n//       at: Date.now(),\r\n//       amount: 10\r\n//     },\r\n//     {\r\n//       toId: '5a5664025f6ae9aa24a99fde',\r\n//       to: 'Hallie Mclean',\r\n//       at: Date.now(),\r\n//       amount: 20\r\n//     },\r\n//   ],\r\n// })\r\n\r\nfunction getUsers() {\r\n  // return storageService.query('user');\r\n  // return httpService.get(`user`)\r\n\r\n  return {\r\n    username: \"Avi Berger\",\r\n    coins: 100,\r\n    moves: [],\r\n  }\r\n}\r\n\r\nasync function getById(userId) {\r\n  const user = await storageService.get('user', userId);\r\n  // const user = await httpService.get(`user/${userId}`)\r\n  gWatchedUser = user;\r\n  return user;\r\n}\r\nfunction remove(userId) {\r\n  return storageService.remove('user', userId);\r\n  // return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n  await storageService.put('user', user);\r\n  // user = await httpService.put(`user/${user._id}`, user)\r\n  // Handle case in which admin updates other user's details\r\n  if (getLoggedinUser()._id === user._id) _saveLocalUser(user);\r\n  return user;\r\n}\r\n\r\nasync function login(userCred) {\r\n  const users = await storageService.query('user'); //CLIENT STORAGE\r\n  const user = users.find((user) => user.username === userCred.username); //CLIENT STORAGE\r\n  if (!user) return // \r\n  return _saveLocalUser(user); //CLIENT STORAGE\r\n\r\n  // const user = await httpService.post('auth/login', userCred) //SERVER STORAGE\r\n  // socketService.emit('login', user._id); //SERVER STORAGE\r\n  // if (user) return _saveLocalUser(user); //SERVER STORAGE\r\n}\r\nasync function signup(userCred) {\r\n  // let signedup = await storageService.query('user')\r\n  const signedup = await storageService.query('user')\r\n  // if (!signedup || !signedup.length) {\r\n    // signedup = await storageService.post('user', userCred); //CLIENT STORAGE\r\n    const user = await storageService.post('user', userCred); //CLIENT STORAGE\r\n    \r\n    // const user = await httpService.post('auth/signup', userCred)  //SERVER STORAGE\r\n    // socketService.emit('set-user-socket', user._id); //SERVER STORAGE\r\n    // console.log('just signed up', user);\r\n    // const users = await getUsers();\r\n    // console.log('users', users);\r\n    return _saveLocalUser(user);\r\n  // }\r\n  // }else{\r\n  //   return _saveLocalUser(signedup)\r\n  // }\r\n}\r\nasync function logout() {\r\n  sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER);\r\n  // socketService.emit('unset-user-socket'); //SERVER STORAGE\r\n  // return await httpService.post('auth/logout') //SERVER STORAGE\r\n}\r\n\r\nfunction _saveLocalUser(user) {\r\n  sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user));\r\n  return user;\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n  if (!sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER)) {\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, 'null');\r\n  }\r\n  return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER));\r\n}\r\n\r\n// // This IIFE functions for Dev purposes\r\n// // It allows testing of real time updates (such as sockets) by listening to storage events\r\n// (async () => {\r\n//   var user = getLoggedinUser();\r\n//   // Dev Helper: Listens to when localStorage changes in OTHER browser\r\n\r\n//   // Here we are listening to changes for the watched user (comming from other browsers)\r\n//   window.addEventListener('storage', async () => {\r\n//     if (!gWatchedUser) return;\r\n//     const freshUsers = await storageService.query('user');\r\n//     const watchedUser = freshUsers.find((u) => u._id === gWatchedUser._id);\r\n//     if (!watchedUser) return;\r\n//     if (gWatchedUser.score !== watchedUser.score) {\r\n//       console.log(\r\n//         'Watched user score changed - localStorage updated from another browser'\r\n//       );\r\n//       socketService.emit(SOCKET_EVENT_USER_UPDATED, watchedUser);\r\n//     }\r\n//     gWatchedUser = watchedUser;\r\n//   });\r\n// })();\r\n\r\n// // This is relevant when backend is connected\r\n// (async () => {\r\n//   var user = getLoggedinUser();\r\n//   if (user) socketService.emit('set-user-socket', user._id);\r\n// })();\r\n","import { userService } from \"../../services/userService\";\r\n\r\nexport function getLoggedinUser(){\r\n    return async dispatch => {\r\n        // try{\r\n            const loggedInUser = await userService.getLoggedinUser()\r\n            // console.log(loggedInUser);\r\n            dispatch({type: 'SET_USER' , loggedInUser})\r\n        // } catch(err){\r\n        //     console.log(err);\r\n        // }\r\n    } \r\n}\r\nexport function addMove(move){\r\n// export function addMove(user){\r\n    return async (dispatch , getState) => {\r\n        // try{\r\n            const {loggedInUser} = getState().userModule\r\n            if (loggedInUser.coins < move.amount)return alert('You dont have enough money!')\r\n            loggedInUser.coins -= move.amount\r\n            loggedInUser.moves.unshift(move)\r\n            await userService.update(loggedInUser)\r\n            dispatch({type: 'SET_USER' , loggedInUser})\r\n        // } catch(err){\r\n        //     console.log(err);\r\n        // }\r\n\r\n            // await userService.update(user)\r\n            // dispatch({type: 'SET_USER' , user})\r\n    } \r\n}","import { connect } from \"react-redux\"\r\nimport { NavLink, withRouter } from \"react-router-dom\"\r\nimport { userService } from \"../services/userService\"\r\nimport { getLoggedinUser } from '../store/actions/userActions'\r\n\r\n\r\nimport React, { Component } from 'react'\r\n\r\nexport class _AppHeader extends Component {\r\n    logout = async () => {\r\n        userService.logout()\r\n        await this.props.getLoggedinUser()\r\n        //    this.props.history.push('/')\r\n        // console.log(this.props);\r\n\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props\r\n        // if (!user) return (<div>lodaing</div>)\r\n        return (\r\n            <div className=\"app-header flex align-center space-between\">\r\n                <div>\r\n                    <h1>Mister Bitcoin</h1>\r\n                </div>\r\n\r\n                <div className=\"right-side flex\">\r\n                    {user?\r\n\r\n                    <><div>\r\n                        Hello {user.username}!\r\n                        {/* <button onClick={this.logout}> Logout</button> */}\r\n\r\n                    </div>\r\n                    <nav className=\"flex\">\r\n                        <NavLink activeClassName=\"active-nav\" exact to=\"/\"><div>Home</div></NavLink>\r\n                        <NavLink activeClassName=\"active-nav\" to=\"/contact\"><div>Contacts</div></NavLink>\r\n                        <NavLink activeClassName=\"active-nav\" to=\"/stats\"><div>Stats</div></NavLink>\r\n\r\n                    </nav></>\r\n                    :\r\n                    <div>Hello User!</div>\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n// function _AppHeader({user}) {\r\n\r\n\r\n\r\n//     logout = ()=>{\r\n//         userService.logout()\r\n//     }\r\n//     // const {user} = this.props\r\n//     if (!user) return (<div>lodaing</div>)\r\n//     return (\r\n//         <div className=\"app-header flex align-center space-between\">\r\n//             <div>\r\n//                 <h1>Mister Bitcoin</h1>\r\n//             </div>\r\n//             <div className=\"right-side flex\">\r\n\r\n//                 <div>\r\n//                     Hello {user.username}!\r\n//                     <button onClick={this.logout}> Logout</button>\r\n\r\n//                 </div>\r\n//                 <nav className=\"flex\">\r\n//                     <NavLink activeClassName=\"active-nav\" exact to=\"/\"><div>Home</div></NavLink>\r\n//                     <NavLink activeClassName=\"active-nav\" to=\"/contact\"><div>Contacts</div></NavLink>\r\n//                     <NavLink activeClassName=\"active-nav\" to=\"/stats\"><div>Stats</div></NavLink>\r\n\r\n//                 </nav>\r\n//             </div>\r\n\r\n//         </div>\r\n//     )\r\n// }\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getLoggedinUser\r\n}\r\n\r\nexport const AppHeader = connect(mapStateToProps, mapDispatchToProps)(_AppHeader)","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport function MovePreview({ move, withContactName }) {\r\n    return (\r\n        <div className=\"move-preview\">\r\n            {/* {JSON.stringify(move)} */}\r\n            {/* {withContactName? `To ${move.to}` : ''} */}\r\n            {withContactName && <>To <Link to={'/contact/' + move.toId}>{move.to}</Link> <br /></>}\r\n            {/* {`To ${move.to}`}<br/> */}\r\n\r\n            <span className=\"bitcoin\">₿ {move.amount}</span> | \r\n            <span className=\"usd\"> {move.usdAmount.toLocaleString('en-US', {style: 'currency',currency: 'USD',minimumFractionDigits: 2,maximumFractionDigits: 2,})}</span> \r\n            <br />\r\n\r\n            {/* // {move.amount.toLocaleString('en-US', {\r\n            //     style: 'currency',\r\n            //     currency: 'USD',\r\n            //     // useGrouping:true,\r\n            //     minimumFractionDigits: 0,\r\n            //     maximumFractionDigits: 0,\r\n            // })} B <br /> */}\r\n\r\n            {/* {new Date(move.at).toLocaleDateString()} */}\r\n            <span className=\"sm-font\">{new Date(move.at).toLocaleString()}</span>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { MovePreview } from './MovePreview'\r\n\r\nexport function MoveList({ moves,title, withContactName }) {\r\n\r\n    // if (!moves || moves.length === 0) return (<div>Nothing to show</div>)\r\n    return (\r\n\r\n        // <div>\r\n        //     {JSON.stringify(moves)}\r\n        // </div>\r\n        <div className=\"move-list\">\r\n            <h3>{title}</h3>\r\n\r\n            {!moves.length && <div className=\"no-moves\">Nothing to show yet..</div>}\r\n\r\n            {moves.map((move,index) => (\r\n                <MovePreview move={move} key={index} withContactName={withContactName}/>\r\n                // <MovePreview move={move} key={move.at} withContactName={withContactName}/>\r\n            ))\r\n            }\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n","import React, { Component } from 'react'\r\n\r\nexport class TransferFund extends Component {\r\n\r\n    state = {\r\n        amount: null\r\n    }\r\n\r\n    onTransferCoins = ({ target }) => {\r\n        // console.log(target.value);\r\n        this.props.onTransferCoins(target.value)\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        // this.props.onChangeFilter(target.value)\r\n        // console.log(target.value);\r\n        this.setState({ amount: target.value })\r\n\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        if (!this.state.amount) return\r\n        this.props.onTransferCoins(this.state.amount)\r\n        this.setState({ amount: '' })\r\n    }\r\n\r\n    transferPrecision = () =>{\r\n        return 0.000001\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"transfer-fund\">\r\n                <form className=\"transfer-form flex\" onSubmit={this.handleSubmit} autoComplete=\"off\" >\r\n                    <div>\r\n                        <label htmlFor=\"amount\"></label>\r\n                        <input id=\"amount\" name=\"amount\" type=\"number\" placeholder=\"How much?\" value={this.state.amount} onChange={this.handleChange} name=\"\" min={this.transferPrecision()} max={this.props.maxCoins}\r\n                          step={this.transferPrecision()}  autoComplete=\"off\" />\r\n                    </div>\r\n                    <div>\r\n                        <button className=\"nice-button\">Transfer</button>\r\n                    </div>\r\n                </form>\r\n                {/* {this.state.amount} */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { storageService } from './async-storage-service.js';\r\n\r\nexport const contactService = {\r\n  query,\r\n  save,\r\n  remove,\r\n  getById,\r\n  getEmptyContact,\r\n}\r\n\r\nconst STORAGE_KEY = 'contacts'\r\n\r\nconst gDefaultContacts = [\r\n  {\r\n    \"_id\": \"5a56640269f443a5d64b32ca\",\r\n    \"name\": \"Ochoa Hyde\",\r\n    \"email\": \"ochoahyde@renovize.com\",\r\n    \"phone\": \"+1 (968) 593-3824\"\r\n  },\r\n  {\r\n    \"_id\": \"5a5664025f6ae9aa24a99fde\",\r\n    \"name\": \"Hallie Mclean\",\r\n    \"email\": \"halliemclean@renovize.com\",\r\n    \"phone\": \"+1 (948) 464-2888\"\r\n  },\r\n  {\r\n    \"_id\": \"5a56640252d6acddd183d319\",\r\n    \"name\": \"Parsons Norris\",\r\n    \"email\": \"parsonsnorris@renovize.com\",\r\n    \"phone\": \"+1 (958) 502-3495\"\r\n  },\r\n  {\r\n    \"_id\": \"5a566402ed1cf349f0b47b4d\",\r\n    \"name\": \"Rachel Lowe\",\r\n    \"email\": \"rachellowe@renovize.com\",\r\n    \"phone\": \"+1 (911) 475-2312\"\r\n  },\r\n  {\r\n    \"_id\": \"5a566402abce24c6bfe4699d\",\r\n    \"name\": \"Dominique Soto\",\r\n    \"email\": \"dominiquesoto@renovize.com\",\r\n    \"phone\": \"+1 (807) 551-3258\"\r\n  },\r\n  {\r\n    \"_id\": \"5a566402a6499c1d4da9220a\",\r\n    \"name\": \"Shana Pope\",\r\n    \"email\": \"shanapope@renovize.com\",\r\n    \"phone\": \"+1 (970) 527-3082\"\r\n  },\r\n  {\r\n    \"_id\": \"5a566402f90ae30e97f990db\",\r\n    \"name\": \"Faulkner Flores\",\r\n    \"email\": \"faulknerflores@renovize.com\",\r\n    \"phone\": \"+1 (952) 501-2678\"\r\n  },\r\n  {\r\n    \"_id\": \"5a5664027bae84ef280ffbdf\",\r\n    \"name\": \"Holder Bean\",\r\n    \"email\": \"holderbean@renovize.com\",\r\n    \"phone\": \"+1 (989) 503-2663\"\r\n  },\r\n  {\r\n    \"_id\": \"5a566402e3b846c5f6aec652\",\r\n    \"name\": \"Rosanne Shelton\",\r\n    \"email\": \"rosanneshelton@renovize.com\",\r\n    \"phone\": \"+1 (968) 454-3851\"\r\n  },\r\n  {\r\n    \"_id\": \"5a56640272c7dcdf59c3d411\",\r\n    \"name\": \"Pamela Nolan\",\r\n    \"email\": \"pamelanolan@renovize.com\",\r\n    \"phone\": \"+1 (986) 545-2166\"\r\n  },\r\n  {\r\n    \"_id\": \"5a5664029a8dd82a6178b15f\",\r\n    \"name\": \"Roy Cantu\",\r\n    \"email\": \"roycantu@renovize.com\",\r\n    \"phone\": \"+1 (929) 571-2295\"\r\n  },\r\n  {\r\n    \"_id\": \"5a5664028c096d08eeb13a8a\",\r\n    \"name\": \"Ollie Christian\",\r\n    \"email\": \"olliechristian@renovize.com\",\r\n    \"phone\": \"+1 (977) 419-3550\"\r\n  },\r\n  {\r\n    \"_id\": \"5a5664026c53582bb9ebe9d1\",\r\n    \"name\": \"Nguyen Walls\",\r\n    \"email\": \"nguyenwalls@renovize.com\",\r\n    \"phone\": \"+1 (963) 471-3181\"\r\n  },\r\n  {\r\n    \"_id\": \"5a56640298ab77236845b82b\",\r\n\r\n    \"name\": \"Glenna Santana\",\r\n    \"email\": \"glennasantana@renovize.com\",\r\n    \"phone\": \"+1 (860) 467-2376\"\r\n  },\r\n  {\r\n    \"_id\": \"5a56640208fba3e8ecb97305\",\r\n    \"name\": \"Malone Clark\",\r\n    \"email\": \"maloneclark@renovize.com\",\r\n    \"phone\": \"+1 (818) 565-2557\"\r\n  },\r\n  {\r\n    \"_id\": \"5a566402abb3146207bc4ec5\",\r\n    \"name\": \"Floyd Rutledge\",\r\n    \"email\": \"floydrutledge@renovize.com\",\r\n    \"phone\": \"+1 (807) 597-3629\"\r\n  },\r\n  {\r\n    \"_id\": \"5a56640298500fead8cb1ee5\",\r\n    \"name\": \"Grace James\",\r\n    \"email\": \"gracejames@renovize.com\",\r\n    \"phone\": \"+1 (959) 525-2529\"\r\n  },\r\n  {\r\n    \"_id\": \"5a56640243427b8f8445231e\",\r\n    \"name\": \"Tanner Gates\",\r\n    \"email\": \"tannergates@renovize.com\",\r\n    \"phone\": \"+1 (978) 591-2291\"\r\n  },\r\n  {\r\n    \"_id\": \"5a5664025c3abdad6f5e098c\",\r\n    \"name\": \"Lilly Conner\",\r\n    \"email\": \"lillyconner@renovize.com\",\r\n    \"phone\": \"+1 (842) 587-3812\"\r\n  }\r\n];\r\n\r\nvar gContacts = _loadContacts()\r\n\r\nasync function query(filterBy) {\r\n  let contactsToReturn = await _loadContacts();\r\n  if (filterBy) {\r\n    contactsToReturn = filter(filterBy,contactsToReturn)\r\n  }\r\n  return contactsToReturn;\r\n}\r\n\r\nfunction filter(term,contacts) {\r\n  term = term.toLocaleLowerCase()\r\n  return contacts.filter(contact => {\r\n    return contact.name.toLocaleLowerCase().includes(term) ||\r\n      contact.phone.toLocaleLowerCase().includes(term) ||\r\n      contact.email.toLocaleLowerCase().includes(term)\r\n  })\r\n}\r\n\r\nasync function getById(userId) {\r\n  const user = await storageService.get(STORAGE_KEY, userId);\r\n  // console.log(user);\r\n  return user;\r\n}\r\n\r\n\r\nfunction remove(id) {\r\n  return storageService.remove(STORAGE_KEY, id)\r\n}\r\n\r\nasync function save(contactToSave) {\r\n  // console.log(contactToSave._id);\r\n  if (contactToSave._id) {\r\n    await storageService.put(STORAGE_KEY, contactToSave)\r\n  } else {\r\n    await storageService.post(STORAGE_KEY, contactToSave)\r\n  }\r\n  return ;\r\n}\r\n\r\nfunction getEmptyContact() {\r\n  return {\r\n    name: '',\r\n    email: '',\r\n    phone: ''\r\n  }\r\n}\r\n\r\nasync function _loadContacts() {\r\n  let contacts = await storageService.query(STORAGE_KEY)\r\n  if (!contacts || !contacts.length){\r\n    contacts = gDefaultContacts\r\n    storageService.postMany(STORAGE_KEY, contacts)\r\n  } \r\n  return contacts\r\n}\r\n\r\n","import { contactService } from \"../../services/contactService2\"\r\n\r\nexport function loadContacts(){\r\n    return async (dispatch, getState) => {\r\n        let {filterBy,contacts} = getState().contactModule\r\n        // console.log(getState());\r\n        // if(!contacts || !contacts.length){\r\n\r\n             contacts = await contactService.query(filterBy)\r\n        // }\r\n        dispatch({type:'SET_CONTACTS',contacts})\r\n    }\r\n}\r\n\r\nexport function deleteContact(contactId){\r\n    return async dispatch => { \r\n        await contactService.remove(contactId)\r\n        dispatch({type:'DELETE_CONTACT' , contactId})\r\n    }\r\n}\r\n// export function deleteContact(contactId){\r\n//     return async dispatch => { \r\n//         const contacts = await contactService.remove(contactId)\r\n//         console.log(contacts);\r\n//          dispatch({type:'SET_CONTACTS',contacts})\r\n//     }\r\n// }\r\n\r\nexport function setFilterBy(filterBy){\r\n    return dispatch => {\r\n        // console.log(filterBy);\r\n        dispatch({type:'SET_FILTER_BY' , filterBy})\r\n    }\r\n}","import axios from 'axios'\r\n\r\nexport const bitcoinService = {\r\n  getRate,\r\n  getMarketPrice,\r\n  getConfirmedTransactions\r\n    \r\n}\r\n\r\nconst STORAGE_KEY = 'bitcoins'\r\n\r\n// var gBitcoins = _loadBitcoins()\r\n\r\n\r\nasync function getRate(){\r\n    try{\r\n        // const res = await axios.get('https://blockchain.info/tobtc?currency=USD&value=1')\r\n        const res = await axios.get('https://blockchain.info/ticker')   // look here for instructions  https://blockchain.info/api/exchange_rates_api\r\n        // console.log(res);\r\n        return res.data\r\n    }\r\n    catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nasync function getMarketPrice(){\r\n    try{\r\n        const res = await axios.get('https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true')\r\n        // console.log(res);\r\n        return res.data\r\n    }\r\n    catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\n\r\nasync function getConfirmedTransactions() {\r\n    try {\r\n        const res = await axios.get(`https://api.blockchain.info/charts/n-transactions?timespan=5months&format=json&cors=true\r\n        `)\r\n        // console.log(res.data);\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { MoveList } from '../cmps/MoveList'\r\nimport { TransferFund } from '../cmps/TransferFund'\r\n// import contactService, {ContactService} from '../services/contactService' \r\nimport { contactService } from '../services/contactService2'\r\nimport { deleteContact, loadContacts } from '../store/actions/contactActions'\r\nimport { addMove } from '../store/actions/userActions'\r\nimport { bitcoinService } from '../services/bitcoinService'\r\n\r\n\r\n\r\nclass _ContactDetailsPage extends Component {\r\n    state = {\r\n        contact: null,\r\n        moves: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        // this.props.getLoggedinUser()\r\n\r\n        this.loadContact()\r\n        // console.log(this.props);\r\n\r\n    }\r\n\r\n    loadContact = async () => {\r\n        const { id } = this.props.match.params\r\n        const contact = await contactService.getById(id)\r\n        this.getMovesToContact()\r\n        this.setState({ contact })\r\n    }\r\n\r\n    getMovesToContact = async () => {\r\n        const userMoves = await this.props.loggedInUser.moves\r\n        const movesToContact = userMoves.filter(move => { return move.toId === this.state.contact._id })\r\n        this.setState({ moves: movesToContact })\r\n    }\r\n\r\n    // deleteContact = async () => {\r\n    //     await this.props.deleteContact(this.state.contact._id)\r\n    //     this.props.history.push('/contact')\r\n    // }\r\n\r\n    goBack = () => {\r\n        this.props.history.push('/contact/')\r\n    }\r\n\r\n    getBitcoinRate = async () => {\r\n        const bitcoinRate = await bitcoinService.getRate()\r\n        // const bitcoinUsdRate = bitcoinRate.USD.last\r\n        return bitcoinRate.USD.last\r\n    }\r\n\r\n\r\n    onTransferCoins = async (transferAmount) => {\r\n        // console.log(transferAmount);\r\n        const { contact } = this.state\r\n        const moveToSave = {\r\n            toId: contact._id,\r\n            to: contact.name,\r\n            at: Date.now(),\r\n            amount: transferAmount,\r\n            usdAmount : await this.getBitcoinRate()*transferAmount\r\n        }\r\n\r\n        this.props.addMove(moveToSave)\r\n        // //  const movesToSave = this.state.moves.push(moveToSave)\r\n        // this.setState({moves:  movesToSave})\r\n        this.loadContact()\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        // const { contact } = this.state\r\n        const { contact, moves } = this.state\r\n        // const {loggedInUser} = this.props\r\n        // if (!contact) return <div>wow I am loading</div>\r\n        // if (!contact|| !loggedInUser.moves) return <div>wow I am loading</div>\r\n        if (!contact || !moves) return <div>wow I am loading</div>\r\n        return (\r\n            <div className=\"secondary-layout flex column \">\r\n                <div className=\"back-buttons-bar flex space-between\">\r\n                    <Link>\r\n                        <div onClick={this.goBack}>Back</div>\r\n                    </Link>\r\n                    <Link to={'/contact/edit/' + contact._id} >\r\n                        <div>Edit</div>\r\n                    </Link>\r\n\r\n                </div>\r\n                <div className=\"content-layout contact-details flex column\" >\r\n                    <img className=\"avatar\" src={'https://robohash.org/' + contact._id} alt=\"\" width=\"200\" height=\"200\" />\r\n                    <div className=\"details\">\r\n                        <p className=\"name\"><h1>{contact.name}</h1></p>\r\n                        <p className=\"phone\"><h3>{contact.phone}</h3></p>\r\n                        <p className=\"email\">{contact.email}</p>\r\n                        {/* <p><b>Name: </b>{contact.name}</p>\r\n                        <p><b>Phone: </b>{contact.phone}</p>\r\n                        <p><b>Email: </b>{contact.email}</p> */}\r\n                    </div>\r\n                    {/* <div className=\"buttons\">\r\n                        <button  onClick={this.deleteContact}>Delete</button>\r\n                    </div> */}\r\n                <TransferFund className=\"contact-details\" onTransferCoins={this.onTransferCoins} maxCoins={this.props.loggedInUser.coins}></TransferFund>\r\n                </div>\r\n                {/* {JSON.stringify(loggedInUser.moves)} */}\r\n                {/* <MoveList moves={loggedInUser.moves}></MoveList> */}\r\n                <MoveList moves={moves} title={`Moves History`}></MoveList>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        // moves:state.userModule.loggedInUser.moves\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    deleteContact,\r\n    loadContacts,\r\n    addMove\r\n\r\n\r\n    // getLoggedinUser\r\n\r\n}\r\n\r\nexport const ContactDetailsPage = connect(mapStateToProps, mapDispatchToProps)(_ContactDetailsPage)","import  { Component } from 'react'\r\n\r\nexport  class ContactFilter extends Component {\r\n\r\n\r\n    handleChange =({target}) =>{\r\n        this.props.onChangeFilter(target.value)\r\n        // console.log(target.value);\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"contact-filter\">\r\n                <form >\r\n                    {/* <label htmlFor=\"text\">Search:</label> */}\r\n                    <input type=\"text\" id=\"text\" onChange={this.handleChange} placeholder={'Search'} autoComplete=\"off\" />\r\n                </form>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","// import React from 'react'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport function ContactPreview({ contact, selectContact }) {\r\n    return (\r\n        // <div className=\"contact-preview\" onClick={() => selectContact(contact._id)}>\r\n        <Link to={'/contact/' + contact._id}>\r\n            <div className=\"contact-preview\">\r\n                {/* hello preview111111111 */}\r\n                <img className=\"avatar\" src={'https://robohash.org/' + contact._id} alt=\"\" width=\"50\" height=\"50\" />\r\n                {contact.name}\r\n\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n","// import React from 'react'\r\nimport { ContactPreview } from './ContactPreview'\r\n\r\nexport function ContactList({contacts , selectContact}) {\r\n    return (\r\n        <div className=\"contact-list\">\r\n      {contacts.map(contact => (\r\n        <ContactPreview  contact={contact} selectContact={selectContact} key={contact._id} />\r\n      ))}\r\n        </div>\r\n    )\r\n}\r\n","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport { ContactFilter } from '../cmps/ContactFilter'\r\nimport {ContactList} from '../cmps/ContactList'\r\n// import contactService from '../services/contactService'\r\n// import {contactService} from '../services/contactService2'\r\nimport { loadContacts,deleteContact,setFilterBy } from '../store/actions/contactActions'\r\n\r\nclass _ContactPage extends Component {\r\n    state={\r\n        contacts:[],\r\n        filterBy:null\r\n    }\r\n\r\n    componentDidMount(){\r\n    // console.log(this.props);\r\n        // this.loadContacts()\r\n        this.props.setFilterBy('')\r\n        // if(!this.props.contacts){\r\n\r\n            this.props.loadContacts()\r\n        // }\r\n        // console.log(this.props);\r\n    }\r\n\r\n    // async loadContacts(){\r\n    //     const contacts = await contactService.query(this.state.filterBy)\r\n    //     // const contacts = await contactService.getContacts(this.state.filterBy)\r\n    //     this.props.dispatch({type: 'SET_CONTACTS' , contacts})\r\n    //     // this.setState({contacts})\r\n    // }\r\n\r\n   onChangeFilter = (filterBy) => {\r\n    //    console.log('filterBy',filterBy);\r\n    //    this.setState({filterBy}, this.loadContacts)\r\n    this.props.setFilterBy(filterBy)\r\n    this.props.loadContacts()\r\n\r\n   }\r\n\r\n\r\n    render() {\r\n    //   const  {contacts} = this.state\r\n      const  {contacts} = this.props\r\n      const {selectContact} = this.props\r\n      if(!contacts) return <div>Loading Contacts...</div>\r\n        return (\r\n            <div className=\"secondary-layout\">\r\n                <Link to={'/contact/edit'}>\r\n                <button className=\"nice-button\">Add Contact</button>\r\n                </Link> \r\n                <div className=\"\">\r\n\r\n                <ContactFilter onChangeFilter={this.onChangeFilter} />\r\n                </div>\r\n                <div className=\" contact-page\">\r\n\r\n                <ContactList contacts={contacts} selectContact={selectContact}/>\r\n                {/* {JSON.stringify(contacts, null, 2)} */}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        contacts: state.contactModule.contacts,\r\n        // filterBy: state.contactModule.filterBy\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n// loadContacts : loadContacts\r\nloadContacts,\r\ndeleteContact,\r\nsetFilterBy\r\n}\r\nexport const ContactPage = connect(mapStateToProps,mapDispatchToProps)(_ContactPage)\r\n","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bitcoinService } from '../services/bitcoinService'\r\nimport { getLoggedinUser } from '../store/actions/userActions'\r\nimport { userService } from '../services/userService'\r\nimport { MoveList } from '../cmps/MoveList'\r\nimport { Link } from 'react-router-dom'\r\nimport { Sparklines, SparklinesLine } from 'react-sparklines';\r\n\r\n\r\n\r\nclass _HomePage extends Component {\r\n    state = {\r\n        marketPrice: null,\r\n\r\n        // user: {\r\n        //     name: 'haha'\r\n        // },\r\n        bitcoinRate: null,\r\n        // moves: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadUser()\r\n        this.loadMarketPrice()\r\n        this.getBitcoinRate()\r\n        console.log(this.props);\r\n        // this.movesToShow()\r\n\r\n    }\r\n\r\n    loadUser = async () => {\r\n        // const user = await userService.getUsers()\r\n        // this.setState({user})\r\n        await this.props.getLoggedinUser()\r\n        if (!this.props.user) this.props.history.push('/signup')\r\n    }\r\n    loadMarketPrice = async () => {\r\n        const marketPrice = await bitcoinService.getMarketPrice()\r\n        this.setState({ marketPrice })\r\n        console.log(marketPrice);\r\n    }\r\n    getBitcoinRate = async () => {\r\n        const bitcoinRate = await bitcoinService.getRate()\r\n        // const bitconToUsd = JSON.parse(bitcoinRate)\r\n        console.log(bitcoinRate.USD.last);\r\n        // this.setState({ bitcoinRate })\r\n        this.setState({ bitcoinRate: bitcoinRate.USD.last })\r\n    }\r\n\r\n    // movesToShow = async () => {\r\n    //     const moves = await this.props.user.moves.slice(0,5)\r\n    //     this.setState({ moves })\r\n\r\n    // }\r\n    logout = async () => {\r\n        userService.logout()\r\n        await this.props.getLoggedinUser()\r\n        this.props.history.push('/signup')\r\n        console.log(this.props);\r\n\r\n    }\r\n\r\n    bitcoinRateToShow = (amount) => {\r\n        // return this.state.bitcoinRate.toLocaleString('en-US', {\r\n        return amount.toLocaleString('en-US', {\r\n            style: 'currency',\r\n            currency: 'USD',\r\n            // useGrouping:true,\r\n            minimumFractionDigits: 2,\r\n            maximumFractionDigits: 2,\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { marketPrice } = this.state\r\n        const { bitcoinRate } = this.state\r\n        const { user } = this.props\r\n        if (!user) return (<div>lodaing</div>)\r\n        // if (!user ) return this.loadUser()\r\n\r\n        return (\r\n            <div className=\" home-page secondary-layout flex column \">\r\n\r\n                <div className=\"back-buttons-bar flex\">\r\n\r\n                    <Link onClick={this.logout}> Logout</Link>\r\n\r\n                </div>\r\n                <div className=\"content-layout flex column justify-center\">\r\n\r\n                    <h1>Hello {user.username} !</h1>\r\n\r\n                    <div className=\"flex space-between bottom-divider\">\r\n                        <div className=\"left-side\">\r\n                            <div className=\"sm-font\">Current Balance</div>\r\n                            <div>BIT: <span className=\"bitcoin md-font\">₿ {user.coins}</span></div>\r\n                            <div>USD: <span className=\"usd\">{this.bitcoinRateToShow(user.coins * bitcoinRate)}</span></div>\r\n                        </div>\r\n                        <div className=\"right-side\">\r\n                            <div className=\"sm-font\">Current BTC to USD</div>\r\n                            <div className=\"md-font\">{bitcoinRate ? this.bitcoinRateToShow(bitcoinRate) : 'loading'}</div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    {marketPrice && (<div>\r\n                        <h5 className=\"text-center\">Market Price (last 5 months)</h5>\r\n                        <Sparklines data={marketPrice.values.map(value => value.y)}>\r\n                            <SparklinesLine color=\"orange\" style={{ strokeWidth: \".5\", fill: \"orange\" }} />\r\n                        </Sparklines>\r\n                    </div>)}\r\n\r\n                    {/* <div>{bitcoinRate ? JSON.stringify(bitcoinRate) : 'loading'}</div> */}\r\n\r\n                    {/* {moves? <MoveList moves={moves} title={'Last 5 moves'} withContactName={true}></MoveList> : 'loading'} */}\r\n\r\n\r\n                </div>\r\n\r\n                {/* {marketPrice && (<div>\r\n                        <h4>Market Price (last 5 months)</h4>\r\n                        <Sparklines data={marketPrice.values.map(value => value.y)}>\r\n                            <SparklinesLine color=\"orange\" style={{ strokeWidth: \".5\", fill: \"orange\" }} />\r\n                        </Sparklines>\r\n                    </div>)} */}\r\n\r\n                <MoveList moves={user.moves.slice(0, 5)} title={'Last 5 moves'} withContactName={true}></MoveList>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getLoggedinUser\r\n}\r\n\r\n\r\n\r\n// export const HomePage = connect(mapStateToProps,mapDispatchToProps)(_HomePage)\r\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(_HomePage)","import { Component } from 'react'\r\nimport { bitcoinService } from '../services/bitcoinService'\r\nimport { Sparklines, SparklinesLine } from 'react-sparklines';\r\nimport Chart from 'chart.js/auto';\r\nimport { Bar, Line } from 'react-chartjs-2'\r\n// import { getRelativePosition } from 'chart.js/helpers';\r\n\r\nexport class StatisticPage extends Component {\r\n\r\n    state = {\r\n        marketPrice: null,\r\n        confirmedTransactions: null,\r\n        chartData:{\r\n            labels: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\"],\r\n            datasets: [{\r\n            label: \"My First dataset\",\r\n            backgroundColor: 'rgb(255, 99, 132)',\r\n            borderColor: 'rgb(255, 99, 132)',\r\n            // data: [0, 10, 5, 2, 20, 30, 45],\r\n            // data: this.state.marketPrice.values.map(value => value.y),\r\n            }]\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadMarketPrice()\r\n        this.loadConfirmTransactions()\r\n\r\n    }\r\n\r\n    loadMarketPrice = async () => {\r\n        const marketPrice = await bitcoinService.getMarketPrice()\r\n        this.setState({ marketPrice })\r\n        console.log(    marketPrice    );\r\n    }\r\n\r\n    loadConfirmTransactions = async () => {\r\n        const confirmTransactions = await bitcoinService.getConfirmedTransactions()\r\n        this.setState({ confirmTransactions })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n\r\n        const { marketPrice, confirmTransactions } = this.state\r\n        if (!marketPrice || !confirmTransactions) return <div>loading</div>\r\n        return (\r\n            <div className=\"flex column\" style={{ width: '100%' }}>\r\n                <h1>statistics!</h1>\r\n                <div>\r\n                    <h3>Market Price</h3>\r\n\r\n                    <Sparklines data={marketPrice.values.map(value => value.y)}\r\n                        margin={10}>\r\n                        <SparklinesLine color=\"blue\" style={{ strokeWidth: \".5\", fill: \"none\" }} />\r\n                    </Sparklines>\r\n\r\n                </div>\r\n                {/* {JSON.stringify(marketPrice.values)} */}\r\n\r\n\r\n                <div>\r\n                    <h3>Confirm Transactions</h3>\r\n\r\n                    <Sparklines data={confirmTransactions.values.map(value => value.y)}\r\n                        margin={10}>\r\n                        <SparklinesLine color=\"red\" style={{ strokeWidth: \".5\", }} />\r\n                    </Sparklines>\r\n\r\n                </div>\r\n                {/* {JSON.stringify(confirmTransactions.values)} */}\r\n\r\n\r\n\r\n                < Line\r\n                    // data={this.state.chartData}\r\n                    data={{\r\n                        // labels: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\"],\r\n                        labels: this.state.marketPrice.values.map(value => new Date(value.x*1000).toLocaleString()),\r\n                        datasets: [{\r\n                            radius:2,\r\n                            hoverRadius:3,\r\n                            borderWidth:1,\r\n                            label: \"Market Price\",\r\n                            backgroundColor: 'rgb(255, 99, 132)',\r\n                            borderColor: 'rgb(255, 99, 132)',\r\n                            // data: [0, 10, 5, 2, 20, 30, 45],\r\n                            // fill:true,\r\n                            data: this.state.marketPrice.values.map(value => value.y),\r\n                            }]\r\n                      }}\r\n                     \r\n                    // options={chartOptions}\r\n                    height={500}\r\n                    width={700}\r\n                />\r\n\r\n                < Line\r\n                    // data={this.state.chartData}\r\n                    data={{\r\n                        // labels: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\"],\r\n                        labels: this.state.confirmTransactions.values.map(value => new Date(value.x*1000).toLocaleString()),\r\n                        datasets: [{\r\n                            radius:2,\r\n                            hoverRadius:3,\r\n\r\n                            borderWidth:1,\r\n                            label: \"Confirm Transactions\",\r\n                            // backgroundColor: 'rgb(255, 99, 132)',\r\n                            backgroundColor: 'rgb(140, 102, 20)',\r\n                            // borderColor: 'rgb(255, 99, 132)',\r\n                            borderColor: '#F3931C',\r\n                            // data: [0, 10, 5, 2, 20, 30, 45],\r\n                            fill:true,\r\n                            data: this.state.confirmTransactions.values.map(value => value.y),\r\n                            \r\n                            }]\r\n                      }}\r\n                    // options={chartOptions}\r\n                    // height={400}\r\n                    // width={700}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { contactService } from '../services/contactService2'\r\nimport { deleteContact } from '../store/actions/contactActions'\r\n\r\n\r\nclass _ContactEditPage extends Component {\r\n\r\n    state = {\r\n        contact: null,\r\n    }\r\n\r\n    async componentDidMount() {\r\n        try {\r\n            const id = this.props.match.params.id\r\n            const contact = id ? await contactService.getById(id) : contactService.getEmptyContact()\r\n            this.setState({ contact })\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n    onSaveRobot = async () => {\r\n        const { contact } = this.state\r\n        await contactService.save(contact)\r\n        this.props.history.push('/contact/' + contact._id)\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.value\r\n        this.setState(prevState => ({ contact: { ...prevState.contact, [field]: value } }))\r\n    }\r\n\r\n    goBack = () => {\r\n        const { contact } = this.state\r\n        contact._id ? this.props.history.push('/contact/' + contact._id) : this.props.history.push('/contact')\r\n    }\r\n\r\n    deleteContact = async (e) => {\r\n        e.preventDefault()\r\n        if (!this.state.contact._id) return\r\n        await this.props.deleteContact(this.state.contact._id)\r\n        this.props.history.push('/contact')\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if (!this.state.contact) return <div>{'Lodaing...'}</div>\r\n        const { name, email, phone } = this.state.contact\r\n        return (\r\n            <div className=\"secondary-layout \">\r\n\r\n                <div className=\"back-buttons-bar flex space-between\">\r\n                    <Link>\r\n                        <div onClick={this.goBack}>Back</div>\r\n                    </Link>\r\n\r\n                </div>\r\n\r\n                <form className=\"content-layout contact-edit\">\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input ref={this.inputRef} value={name} name=\"name\" type=\"text\" id=\"name\" onChange={this.handleChange} />\r\n\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input value={email} name=\"email\" type=\"text\" id=\"email\" onChange={this.handleChange} />\r\n\r\n                    <label htmlFor=\"phone\">Phone number</label>\r\n                    <input value={phone} name=\"phone\" type=\"text\" id=\"phone\" onChange={this.handleChange} />\r\n\r\n                    <div className=\"buttons\">\r\n                        <button className=\"nice-button\" onClick={this.onSaveRobot}>Save</button>\r\n                        {this.state.contact._id && <button className=\"simple-button\" onClick={this.deleteContact}>Delete Contact</button>}\r\n                    </div>\r\n\r\n                    {/* <p>{this.state.errMsg}</p> */}\r\n                </form>\r\n            </div>\r\n\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    deleteContact,\r\n}\r\n\r\nexport const ContactEditPage = connect(mapStateToProps, mapDispatchToProps)(_ContactEditPage)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { userService } from '../services/userService';\r\nimport { getLoggedinUser } from '../store/actions/userActions'\r\n\r\n\r\nclass _SignupPage extends Component {\r\n    state = {\r\n        signedUp: {\r\n            username: null,\r\n            coins: 100,\r\n            moves: [],\r\n        },\r\n        loggedIn:{\r\n            username:null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props);\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        // this.props.onChangeFilter(target.value)\r\n        // console.log(target.value);\r\n        // this.setState({ 'signedUp.name': target.value })\r\n\r\n\r\n\r\n        const field = target.name\r\n        const value = target.value\r\n        this.setState(prevState => ({signedUp: { ...prevState.signedUp, [field]:value}}))\r\n    \r\n\r\n    }\r\n\r\n    handleChange2 = ({ target }) => {\r\n        // this.props.onChangeFilter(target.value)\r\n        // console.log(target.value);\r\n        // this.setState({ 'signedUp.name': target.value })\r\n\r\n\r\n\r\n        const field = target.name\r\n        const value = target.value\r\n        this.setState(prevState => ({loggedIn: { ...prevState.loggedIn, [field]:value}}))\r\n    \r\n\r\n    }\r\n\r\n    handleSubmit =async (event) => {\r\n        event.preventDefault()\r\n        // this.setState({name:''})\r\n        // console.log(this.state.signedUp);\r\n        await userService.signup(this.state.signedUp)\r\n        await this.props.getLoggedinUser()\r\n        this.props.history.push('/')\r\n    }\r\n    handleLogin =async (event) => {\r\n        event.preventDefault()\r\n        // this.setState({name:''})\r\n        // console.log(this.state.signedUp);\r\n        await userService.login(this.state.loggedIn)\r\n        await this.props.getLoggedinUser()\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div>\r\n                signup\r\n                <form onSubmit={this.handleSubmit}>\r\n                <input  id=\"username\" name=\"username\" type=\"text\" onChange={this.handleChange} autoComplete=\"off\"/>\r\n                </form>\r\n                </div>\r\n                <div>\r\n\r\n                login\r\n                <form onSubmit={this.handleLogin}>\r\n                <input  id=\"username\" name=\"username\" type=\"text\" onChange={this.handleChange2} autoComplete=\"off\"/>\r\n                </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        // user: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    getLoggedinUser\r\n}\r\n\r\n\r\n\r\n// export const HomePage = connect(mapStateToProps,mapDispatchToProps)(_HomePage)\r\nexport const SignupPage = connect(mapStateToProps,mapDispatchToProps)(_SignupPage)","import { HashRouter as Router, Redirect, Route , Switch } from 'react-router-dom'\r\nimport { AppHeader } from '../cmps/AppHeader'\r\nimport { Component } from 'react'\r\nimport {ContactDetailsPage} from './ContactDetailsPage'\r\nimport { ContactPage } from './ContactPage'\r\nimport { HomePage } from './HomePage'\r\nimport { StatisticPage } from './StatisticPage'\r\nimport { ContactEditPage } from './ContactEditPage'\r\nimport { connect } from 'react-redux'\r\nimport {getLoggedinUser} from '../store/actions/userActions'\r\nimport { SignupPage } from './SignupPage'\r\n// import { RobotList } from '../cmps/RobotList'\r\n// import { RobotDetails } from './RobotDetails'\r\n// import { robotService } from '../services/robotService'\r\n// import { RobotFilter } from '../cmps/RobotFilter'\r\n\r\nclass _BitcoinApp extends Component {\r\n  state = {\r\n    robots: null,\r\n    filterBy: null,\r\n    selectedContactId: null,\r\n    page: 'home'\r\n    // selectedContactId: '5a56640269f443a5d64b32ca'\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log(this.props);\r\n    // this.loadRobots()\r\n    this.props.getLoggedinUser()\r\n\r\n  }\r\n\r\n  selectContact = (contactId) => {\r\n    this.setState({ selectedContactId: contactId })\r\n  }\r\n\r\n  gotoPage = (page) => {\r\n    this.setState({ page: page, selectedContactId:null })\r\n  }\r\n\r\n\r\n  // async loadRobots() {\r\n  //   const robots = await robotService.query(this.state.filterBy)\r\n  //   this.setState({ robots })\r\n  // }\r\n\r\n  // selectRobot = (robotId) => {\r\n  //   this.setState({ selectedRobotId: robotId })\r\n  // }\r\n  // onChangeFilter = (filterBy) => {\r\n  //   this.setState({ filterBy }, this.loadRobots)\r\n  // }\r\n\r\n  // deleteRobot = async (robotId) => {\r\n  //   await robotService.remove(robotId)\r\n  //   this.loadRobots()\r\n  // }\r\n\r\n  render() {\r\n    const { selectedContactId ,page } = this.state\r\n    // console.log(this.selectContact);\r\n\r\n    // if (!robots) return <div className=\"page-loading-screen\">Loading...</div>\r\n\r\n    return (\r\n      <Router>\r\n            <AppHeader />\r\n          <main   className=\"main-layout flex column align-center\" >\r\n            <Switch>\r\n              <Route path=\"/signup\" component={SignupPage}></Route>\r\n              <Route path=\"/stats\" component={StatisticPage}></Route>\r\n              <Route path=\"/contact/edit/:id?\" component={ContactEditPage} />\r\n              <Route path=\"/contact/:id\" component={ContactDetailsPage} />\r\n              <Route path=\"/contact\" component={ContactPage}></Route>\r\n              <Route path=\"/\" component={HomePage}></Route>\r\n            </Switch>\r\n\r\n          </main>\r\n\r\n\r\n     </Router>\r\n\r\n      /* <div className=\"flex column app-container\">\r\n        <h1>Mister Bitcoin</h1>\r\n        <nav>\r\n        <a onClick={() => { this.gotoPage('home') }} href=\"#\"> Home</a> |\r\n        <a onClick={() => { this.gotoPage('contactList') }} href=\"#\"> Contacts</a> |\r\n        <a onClick={() => { this.gotoPage('statistics') }} href=\"#\"> Statistics</a> |\r\n\r\n        \r\n        </nav>\r\n\r\n        <main className=\"main-layout\">\r\n        {page === 'home' && <HomePage />}\r\n        {page === 'contactList' && (selectedContactId ? <ContactDetailsPage contactId={selectedContactId} /> : <ContactPage selectContact={this.selectContact} />)}\r\n        {page === 'statistics' && <StatisticPage />}\r\n\r\n        </main>\r\n      </div> */\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return{\r\n      // user: state.userModule.loggedInUser\r\n  }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n  getLoggedinUser\r\n}\r\n\r\n\r\n\r\nexport const BitcoinApp = connect(mapStateToProps,mapDispatchToProps)(_BitcoinApp)\r\n// export const BitcoinApp = connect(mapDispatchToProps)(_BitcoinApp)","import { BitcoinApp } from './pages/BitcoinApp';\n\nexport default function App() {\n  return (\n    <main  className=\"app-container flex column\" >\n      <BitcoinApp/>\n    </main>\n  );\n}\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const INITIAL_STATE = {\r\n    contacts :null,\r\n    filterBy: null\r\n}\r\nexport function contactReducer(state = INITIAL_STATE, action){\r\n    switch (action.type) {\r\n        case 'SET_CONTACTS':\r\n            return {\r\n                ...state,\r\n                contacts: action.contacts\r\n            }\r\n        case 'SET_FILTER_BY':\r\n            return {\r\n                ...state,\r\n                filterBy: action.filterBy,\r\n            }\r\n        case 'ADD_CONTACT':\r\n            return{\r\n                ...state,\r\n                contacts: [...state.contacts, action.contact]\r\n            }\r\n        case 'DELETE_CONTACT':\r\n            return{\r\n                ...state,\r\n                // contacts: state.contacts\r\n                contacts: state.contacts.filter(contact => contact._id !== action.contactId)\r\n            }\r\n        case 'UPDATE_CONTACT':\r\n            return{\r\n                ...state,\r\n                contacts: state.contacts.map(contact => contact._id === action.contact._id ? action.contact: contact)\r\n            }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}","const INITIAL_STATE = {\r\n    loggedInUser: null\r\n    // loggedInUser: {\r\n    //     name:\"Avi Berger\",\r\n    //     coins:100,\r\n    //     moves:[],\r\n    // }\r\n}\r\n\r\nexport function userReducer(state = INITIAL_STATE, action) {\r\n    switch (action.type) {\r\n        // case 'SPEND_BALANCE':\r\n        //     return{\r\n        //         ...state,\r\n        //         loggedInUser:{\r\n        //             ...state.loggedInUser,\r\n        //             balance: state.loggedInUser.balance - action.amount\r\n\r\n        //         }\r\n        //     }\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                loggedInUser: action.loggedInUser\r\n            }\r\n\r\n        case 'UPDATE_USER':\r\n            return {\r\n                ...state,\r\n                loggedInUser: action.loggedInUser\r\n                // loggedInUser: {\r\n                //     ...state.loggedInUser,\r\n                //     moves: moves.unshift(action.move),\r\n                //     coins: state.loggedInUser.coins - action.move.amount\r\n                //   }\r\n            }\r\n\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { contactReducer } from \"./reducers/contactReducer\";\r\nimport { userReducer } from \"./reducers/userReducer\"\r\nconst composeEnhancers  = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose  //with 2 : '__' at beginning and end\r\nconst rootReducer = combineReducers({\r\n    // contactReducer,\r\n    // userReducer\r\n    contactModule : contactReducer,\r\n    userModule : userReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer,composeEnhancers(applyMiddleware(thunk))) \r\n// export const store = createStore(contactReducer,composeEnhancers(applyMiddleware(thunk))) \r\n// console.log(store.getState());","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/scss/global.scss'\n\n// import './index.css';\nimport App from './App.jsx';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}